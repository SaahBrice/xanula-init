{% extends "base.html" %}
{% load i18n %}

{% block title %}{% trans "Set Password" %} - Xanula{% endblock %}

{% block content %}
<div class="container py-6 max-w-lg">
    <!-- Header -->
    <div class="text-center mb-8">
        <h1 class="font-display text-2xl md:text-3xl font-bold text-gray-900 dark:text-white">
            {% trans "Set Password" %}
        </h1>
        <p class="mt-2 text-gray-600 dark:text-gray-400">
            {% trans "Create a password for your account" %}
        </p>
    </div>
    
    <!-- Info -->
    <div class="bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 text-blue-700 dark:text-blue-300 px-4 py-3 rounded-xl text-sm mb-6">
        <p>{% trans "You signed up using a social account. Set a password to also be able to sign in with your email." %}</p>
    </div>
    
    <!-- Card -->
    <div class="bg-white dark:bg-dark-100 border border-gray-200 dark:border-gray-700 rounded-2xl p-6 md:p-8 shadow-sm">
        <form method="post" class="space-y-5">
            {% csrf_token %}
            
            {% if form.non_field_errors %}
            <div class="bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 text-red-600 dark:text-red-400 px-4 py-3 rounded-xl text-sm">
                {% for error in form.non_field_errors %}<p>{{ error }}</p>{% endfor %}
            </div>
            {% endif %}
            
            <!-- New Password -->
            <div class="form-group">
                <label for="id_password1" class="label">{% trans "Password" %}</label>
                <input type="password" name="password1" id="id_password1" required autocomplete="new-password"
                    class="input {% if form.password1.errors %}border-red-500{% endif %}"
                    placeholder="{% trans 'Create a password' %}">
                {% if form.password1.errors %}<p class="mt-1 text-sm text-red-500">{{ form.password1.errors.0 }}</p>{% endif %}
                <p class="mt-1 text-xs text-gray-500 dark:text-gray-400">{% trans "Must be at least 8 characters" %}</p>
            </div>
            
            <!-- Confirm Password -->
            <div class="form-group">
                <label for="id_password2" class="label">{% trans "Confirm Password" %}</label>
                <input type="password" name="password2" id="id_password2" required autocomplete="new-password"
                    class="input {% if form.password2.errors %}border-red-500{% endif %}"
                    placeholder="{% trans 'Confirm your password' %}">
                {% if form.password2.errors %}<p class="mt-1 text-sm text-red-500">{{ form.password2.errors.0 }}</p>{% endif %}
            </div>
            
            <div class="flex flex-col sm:flex-row gap-3 pt-2">
                <button type="submit" class="btn btn-primary flex-1">{% trans "Set Password" %}</button>
                <a href="{% url 'core:user_settings' %}" class="btn btn-secondary flex-1 text-center">{% trans "Cancel" %}</a>
            </div>
        </form>
    </div>
</div>
{% endblock %}
