{% extends "base.html" %}
{% load static i18n %}

{% block title %}{% trans "Thank You!" %} - Xanula{% endblock %}

{% block content %}
<div class="container py-12 max-w-xl mx-auto text-center">
    <!-- Success Animation -->
    <div class="mb-8">
        <div class="w-24 h-24 mx-auto mb-6 rounded-full bg-gradient-to-br from-forest-400 to-forest-600 flex items-center justify-center animate-pulse">
            <span class="text-5xl">‚ù§Ô∏è</span>
        </div>
        <h1 class="font-display text-3xl md:text-4xl font-bold text-gray-900 dark:text-white mb-2">{% trans "Thank You!" %}</h1>
        <p class="text-lg text-gray-600 dark:text-gray-400">{% trans "Your support means the world to" %} {{ donation.recipient.get_display_name }}!</p>
    </div>

    <!-- Donation Summary -->
    <div class="bg-white dark:bg-dark-100 border border-gray-200 dark:border-gray-700 rounded-2xl p-6 mb-6 text-left">
        <h3 class="font-display text-lg font-semibold text-gray-900 dark:text-white mb-4 text-center">{% trans "Donation Summary" %}</h3>
        
        <div class="space-y-3">
            <div class="flex justify-between py-2 border-b border-gray-100 dark:border-gray-700">
                <span class="text-gray-600 dark:text-gray-400">{% trans "Amount" %}</span>
                <span class="font-semibold text-gray-900 dark:text-white">{{ donation.amount|floatformat:0 }} XAF</span>
            </div>
            <div class="flex justify-between py-2 border-b border-gray-100 dark:border-gray-700">
                <span class="text-gray-600 dark:text-gray-400">{% trans "Recipient" %}</span>
                <span class="font-semibold text-gray-900 dark:text-white">{{ donation.recipient.get_display_name }}</span>
            </div>
            {% if donation.book %}
            <div class="flex justify-between py-2 border-b border-gray-100 dark:border-gray-700">
                <span class="text-gray-600 dark:text-gray-400">{% trans "For Book" %}</span>
                <span class="font-semibold text-gray-900 dark:text-white">{{ donation.book.title }}</span>
            </div>
            {% endif %}
            <div class="flex justify-between py-2">
                <span class="text-gray-600 dark:text-gray-400">{% trans "Date" %}</span>
                <span class="font-semibold text-gray-900 dark:text-white">{{ donation.completed_at|date:"M d, Y H:i" }}</span>
            </div>
        </div>
    </div>

    {% if donation.message %}
    <!-- Message Sent -->
    <div class="bg-cream dark:bg-dark-50 border border-gray-200 dark:border-gray-700 rounded-2xl p-6 mb-6">
        <h4 class="font-medium text-gray-900 dark:text-white mb-2 flex items-center justify-center gap-2">
            <span>üí¨</span> {% trans "Your Message" %}
        </h4>
        <p class="text-gray-600 dark:text-gray-400 italic">"{{ donation.message }}"</p>
    </div>
    {% endif %}

    <!-- Actions -->
    <div class="flex flex-col sm:flex-row gap-3 justify-center">
        <a href="{% url 'core:library' %}" class="btn btn-secondary">{% trans "Back to Library" %}</a>
        <a href="{% url 'core:author_profile' donation.recipient.id %}" class="btn btn-primary">{% trans "View Author Profile" %}</a>
    </div>
</div>

<style>
@keyframes pulse {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.05); }
}
.animate-pulse { animation: pulse 2s infinite; }
</style>
{% endblock %}
