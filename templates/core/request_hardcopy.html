{% extends "base.html" %}
{% load static %}

{% block title %}Request Hard Copy - {{ book.title }} - Xanula{% endblock %}

{% block content %}
<div class="container py-6 max-w-xl mx-auto">
    <!-- Header -->
    <div class="mb-6">
        <a href="{% url 'core:library' %}" class="text-gray-500 hover:text-burgundy-500 text-sm mb-2 inline-block">← Back to Library</a>
        <h1 class="font-display text-2xl md:text-3xl font-bold text-gray-900 dark:text-white mb-1">Request Hard Copy</h1>
        <p class="text-gray-600 dark:text-gray-400">Request a printed version of your book.</p>
    </div>

    <!-- Book Info -->
    <div class="bg-white dark:bg-dark-100 border border-gray-200 dark:border-gray-700 rounded-2xl p-6 mb-6">
        <div class="flex gap-4">
            <div class="w-16 h-24 flex-shrink-0 rounded-lg overflow-hidden shadow">
                {% if book.cover_image %}
                <img src="{{ book.cover_image.url }}" alt="{{ book.title }}" class="w-full h-full object-cover">
                {% else %}
                <div class="w-full h-full bg-gradient-to-br from-burgundy-500 to-forest-500 flex items-center justify-center">
                    <span class="font-display font-bold text-white/40">{{ book.title|first }}</span>
                </div>
                {% endif %}
            </div>
            <div>
                <h2 class="font-display text-lg font-semibold text-gray-900 dark:text-white">{{ book.title }}</h2>
                <p class="text-gray-600 dark:text-gray-400">by {{ book.author.get_display_name }}</p>
            </div>
        </div>
    </div>

    <!-- Form -->
    <form method="post" class="space-y-6">
        {% csrf_token %}
        
        <div class="bg-white dark:bg-dark-100 border border-gray-200 dark:border-gray-700 rounded-2xl p-6">
            <h3 class="font-display text-lg font-semibold text-gray-900 dark:text-white mb-4">Shipping Information</h3>
            
            <div class="form-group">
                <label for="full_name" class="label">Full Name</label>
                <input type="text" name="full_name" id="full_name" required value="{{ request.user.get_full_name }}" class="input" placeholder="Your full name">
            </div>
            
            <div class="form-group">
                <label for="phone" class="label">Phone Number</label>
                <input type="tel" name="phone" id="phone" required class="input" placeholder="+237 6XX XXX XXX">
            </div>
            
            <div class="form-group">
                <label for="address" class="label">Shipping Address</label>
                <textarea name="address" id="address" required rows="3" class="input resize-none" placeholder="Street address, city, postal code, country"></textarea>
            </div>
            
            <div class="form-group">
                <label for="notes" class="label">Additional Notes (Optional)</label>
                <textarea name="notes" id="notes" rows="2" class="input resize-none" placeholder="Any special instructions..."></textarea>
            </div>
        </div>
        
        <!-- Important Notice -->
        <div class="bg-gold-50 dark:bg-gold-900/20 border border-gold-200 dark:border-gold-800 rounded-2xl p-4">
            <h4 class="font-medium text-gray-900 dark:text-white mb-2 flex items-center gap-2">
                <span>⚠️</span> Important Notice
            </h4>
            <ul class="text-sm text-gray-600 dark:text-gray-400 space-y-1">
                <li>• Hard copy requests are handled manually and may take 2-4 weeks.</li>
                <li>• Shipping costs will be calculated based on your location.</li>
                <li>• You will be contacted to confirm pricing before printing.</li>
                <li>• Not all books may be available for hard copy printing.</li>
            </ul>
        </div>
        
        <!-- Submit -->
        <div class="flex flex-col sm:flex-row gap-3 justify-end">
            <a href="{% url 'core:library' %}" class="btn btn-secondary text-center">Cancel</a>
            <button type="submit" class="btn btn-primary">Submit Request</button>
        </div>
    </form>
</div>
{% endblock %}
