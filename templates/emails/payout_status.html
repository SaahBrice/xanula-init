{% extends "emails/base_email.html" %}
{% load i18n %}

{% block title %}{% trans "Payout Status Update" %} - Xanula{% endblock %}

{% block content %}
<h1 style="text-align: center;">{% trans "Payout Status Update" %}</h1>

{% if payout.status == 'completed' %}
<!-- Success -->
<div style="text-align: center; margin-bottom: 24px;">
    <div style="width: 64px; height: 64px; background: rgba(45, 71, 57, 0.1); border-radius: 50%; display: inline-flex; align-items: center; justify-content: center;">
        <span style="font-size: 32px;">üí∞</span>
    </div>
</div>
<p style="text-align: center; color: #2D4739; font-size: 18px; font-weight: bold;">{% trans "Payment Sent Successfully!" %}</p>

<div class="info-box success">
    <table width="100%" cellpadding="0" cellspacing="0">
        <tr>
            <td style="padding: 8px 0;">
                <span style="color: #666666;">{% trans "Amount" %}</span>
            </td>
            <td style="text-align: right;">
                <span style="color: #2D4739; font-size: 20px; font-weight: bold;">{{ payout.amount|floatformat:0 }} XAF</span>
            </td>
        </tr>
        <tr>
            <td style="padding: 8px 0;">
                <span style="color: #666666;">{% trans "Payment Method" %}</span>
            </td>
            <td style="text-align: right;">
                <span style="color: #1a1a1a;">{{ payout.get_payment_method_display }}</span>
            </td>
        </tr>
        <tr>
            <td style="padding: 8px 0;">
                <span style="color: #666666;">{% trans "Reference" %}</span>
            </td>
            <td style="text-align: right;">
                <span style="color: #1a1a1a; font-family: monospace; font-size: 12px;">{{ payout.transaction_reference|default:"N/A" }}</span>
            </td>
        </tr>
    </table>
</div>

{% elif payout.status == 'processing' %}
<!-- Processing -->
<div style="text-align: center; margin-bottom: 24px;">
    <div style="width: 64px; height: 64px; background: rgba(212, 165, 116, 0.2); border-radius: 50%; display: inline-flex; align-items: center; justify-content: center;">
        <span style="font-size: 32px;">‚è≥</span>
    </div>
</div>
<p style="text-align: center; color: #B8864C; font-size: 18px; font-weight: bold;">{% trans "Payout is Being Processed" %}</p>

<div class="info-box warning">
    <p style="margin: 0; color: #555555;">
        {% blocktrans with amount=payout.amount|floatformat:0 %}We're processing your payout of <strong>{{ amount }} XAF</strong>. This typically takes 1-3 business days.{% endblocktrans %}
    </p>
</div>

{% else %}
<!-- Failed/Rejected -->
<div style="text-align: center; margin-bottom: 24px;">
    <div style="width: 64px; height: 64px; background: rgba(139, 38, 53, 0.1); border-radius: 50%; display: inline-flex; align-items: center; justify-content: center;">
        <span style="font-size: 32px;">‚ö†Ô∏è</span>
    </div>
</div>
<p style="text-align: center; color: #8B2635; font-size: 18px; font-weight: bold;">{% trans "Payout Issue" %}</p>

<div class="info-box">
    <p style="margin: 0; color: #555555;">
        {% trans "There was an issue with your payout request. Please verify your payment details and try again." %}
    </p>
    {% if payout.notes %}
    <p style="margin: 12px 0 0 0; color: #555555;">
        <strong>{% trans "Details:" %}</strong> {{ payout.notes }}
    </p>
    {% endif %}
</div>
{% endif %}

<!-- CTA -->
<div style="text-align: center; margin-top: 32px;">
    <a href="{{ site_url|default:'https://xanula.com' }}/my-books/payout/" class="btn">
        {% trans "View Payout History" %}
    </a>
</div>

<div class="divider"></div>

<p style="font-size: 13px; color: #888888; text-align: center;">
    {% trans "Questions? Contact us at" %} <a href="mailto:reepls.project@gmail.com">reepls.project@gmail.com</a>
</p>
{% endblock %}
